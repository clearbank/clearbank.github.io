{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "TransactionSettledV6",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "TransactionId": {
      "title": "Transaction Id",
      "type": "string",
      "description": "Unique Identification of the Transaction.\r\nSpecial Character: Hyphen\r\nExample format of a typical TransactionId: CE25B426-9430-4A82-8EB8-9311DA2D3E12",
      "format": "guid",
      "maxLength": 36,
      "minLength": 0
    },
    "Status": {
      "title": "Status",
      "description": "Transaction Status",
      "oneOf": [
        {
          "$ref": "#/definitions/TransactionStatus"
        }
      ]
    },
    "Scheme": {
      "title": "Scheme",
      "description": "Scheme Type (Optional)",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/PaymentMethodType"
        }
      ]
    },
    "EndToEndTransactionId": {
      "title": "End To End Transaction Id",
      "type": [
        "null",
        "string"
      ],
      "description": "Unique Identifier  supplied by you in your API request. For inbound transactions, this identifier may not be unique.",
      "maxLength": 35,
      "minLength": 0
    },
    "Amount": {
      "title": "Amount",
      "type": "number",
      "description": "Transaction Amount",
      "format": "decimal"
    },
    "TimestampSettled": {
      "title": "Timestamp Settled",
      "type": "string",
      "description": "Date and Time Transaction settled. Time in UTC.",
      "format": "date-time"
    },
    "TimestampCreated": {
      "title": "Timestamp Created",
      "type": "string",
      "description": "Date and Time Transaction created. Time in UTC.",
      "format": "date-time"
    },
    "CurrencyCode": {
      "title": "Currency Code",
      "description": "Code of Transaction Currency (Optional)\r\n- GBP",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/CurrencyCode"
        }
      ]
    },
    "DebitCreditCode": {
      "title": "Debit Credit Code",
      "$ref": "#/definitions/DebitCreditCode"
    },
    "Reference": {
      "title": "Reference",
      "type": [
        "null",
        "string"
      ],
      "description": "Payment Transaction Reference (Optional)",
      "maxLength": 140,
      "minLength": 0
    },
    "IsReturn": {
      "title": "Is Return",
      "type": "boolean",
      "description": "Is the Transaction returned from Scheme?"
    },
    "Account": {
      "title": "Account",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/AccountIdentifiersV2"
        }
      ]
    },
    "CounterpartAccount": {
      "title": "Counterpart Account",
      "description": "The account from, or to the Transaction occurred.",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/AccountIdentifiersV2CA"
        }
      ]
    },
    "ActualEndToEndTransactionId": {
      "title": "Actual End To End Transaction Id",
      "type": [
        "null",
        "string"
      ],
      "description": "Unique payment Identifier depending on Scheme Type\r\n- Faster Payments = FPID (FPID is the unique payment identifier generated by Faster Payments.)\r\n- Chaps = Field 20 (Field 20 is the unique payment identifier generated by the remitting bank.)",
      "maxLength": 255,
      "minLength": 0
    },
    "DirectDebitMandateId": {
      "title": "Direct Debit Mandate Id",
      "type": [
        "null",
        "string"
      ],
      "description": "Unique Identification of a Direct Debit Instruction (Optional)",
      "format": "guid",
      "maxLength": 36,
      "minLength": 0
    },
    "TransactionCode": {
      "title": "Transaction Code",
      "type": [
        "null",
        "string"
      ],
      "description": "Direct Debit Transaction Code (Optional):\r\n- 01 - First collection\r\n- 17 - Regular collection\r\n- 18 - Re - presented collection\r\n- 19 - Final collection\r\nDirect Credit Transaction Code(Optional):\r\n- 99 - Standard Bank Giro Credit\r\n- 86 - Bank to bank settlement\r\n- Z4 - Interest payment\r\n- Z5 - Dividend payment",
      "maxLength": 2,
      "minLength": 0,
      "pattern": "(01|17|18|19|U1|U7|U8|U9|99|Z4|Z5|86|RA)"
    },
    "ServiceUserNumber": {
      "title": "Service User Number",
      "type": [
        "null",
        "string"
      ],
      "description": "Service User's Unique Identifier registered with Bacs (Optional)",
      "maxLength": 6,
      "minLength": 0
    },
    "BacsTransactionId": {
      "title": "Bacs Transaction Id",
      "type": [
        "null",
        "string"
      ],
      "format": "guid",
      "maxLength": 36,
      "minLength": 0
    },
    "BacsTransactionDescription": {
      "title": "Bacs Transaction Description",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/BacsTransactionDescriptionType"
        }
      ]
    },
    "TransactionType": {
      "title": "Transaction Type",
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "#/definitions/BacsTransactionType"
        }
      ]
    },
    "TransactionSource": {
      "title": "Transaction Source",
      "type": [
        "null",
        "string"
      ],
      "description": "Origination of the Transaction (Optional)\r\n- CardProcessor",
      "maxLength": 50,
      "minLength": 0
    },    
    "SupplementaryData": {
      "title": "Supplementary Data",
      "type": [
        "array",
        "null"
      ],
      "description": "Transaction supplementary data (Optional)\r\n- CHAPS\r\n  It is an array with the following fields:\r\n  Name (Tag/Field Number in the CHAPS message)\r\n  Maximum Field Length: 5\r\n  - 20\r\n  - 13C\r\n  - 23B\r\n  - 23E\r\n  - 26T\r\n  - 32A\r\n  - 33B\r\n  - 36\r\n  - 50a\r\n  - 51A\r\n  - 52a\r\n  - 53a\r\n  - 54a\r\n  - 55a\r\n  - 56a\r\n  - 57a\r\n  - 59a\r\n  - 70\r\n  - 71A\r\n  - 71F\r\n  - 71G\r\n  - 72\r\n  - 77B\r\n  Value\r\n  Maximum Field Length: 500\r\n  There could be more than one Name and Value pair.\r\n\r\n- FPS\r\n  It is an array with the following fields:\r\n  Name (Fields in the FPS message)\r\n  - Maximum Field Length: 33\r\n  - AgencyAccountWithMember\r\n  - AgencySortCodeWithMember\r\n  - Amount\r\n  - BeneficiaryCreditInstitution\r\n  - BeneficiaryCustomerAccountAddress\r\n  - BeneficiaryCustomerAccountName\r\n  - BeneficiaryCustomerAccountNumber\r\n  - ChargingInformation\r\n  - Currency\r\n  - DateSent\r\n  - EndToEndReference\r\n  - ExchangeRate\r\n  - FileId\r\n  - NumericReference\r\n  - OriginalAmount\r\n  - OriginalCurrency\r\n  - OriginatingCreditInstitution\r\n  - OriginatingCustomerAccountAddress\r\n  - OriginatingCustomerAccountName\r\n  - OriginatingCustomerAccountNumber\r\n  - PaymentReturnCode\r\n  - PaymentSubTypeCode\r\n  - PaymentType\r\n  - ProcessedAsynchronously\r\n  - PurposeTransactionType\r\n  - ReceivingMember\r\n  - ReferenceInformation\r\n  - RegulatoryReporting\r\n  - RemittanceInformation\r\n  - ReturnedPaymentFpId\r\n  - SendingFpsInstitution\r\n  - SettlementCycleId\r\n  - SubmittingMember\r\n  - TransactionReferenceNumber\r\n  - TypeOfAccountCode\r\n  Value\r\n  Maximum Field Length: 500\r\n  There could be more than one Name and Value pair.",
      "items": {
        "$ref": "#/definitions/SupplementaryData"
      }
    },
    "Iso20022XmlDocument": {
      "title": "Iso20022 Xml Document (Optional)",
      "type": [
        "null",
        "string"
      ],
      "description": "Only appears if Scheme is set to Chaps and the message type received is in ISO 20022 (MX) format. Content of the Document node (payload) of the received payment message, to enable processing of ISO 20022 messages for CHAPS. This value can be very long: 0-80,000 characters."
    }
  },
  "definitions": {
    "TransactionStatus": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "Settled"
      ],
      "enum": [
        "Settled"
      ]
    },
    "PaymentMethodType": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "Transfer",
        "FasterPayments",
        "Bacs",
        "Chaps"
      ],
      "enum": [
        "Transfer",
        "FasterPayments",
        "Bacs",
        "Chaps"
      ]
    },
    "CurrencyCode": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "ALL",
        "DZD",
        "ARS",
        "AUD",
        "BSD",
        "BHD",
        "BDT",
        "AMD",
        "BBD",
        "BMD",
        "BTN",
        "BOB",
        "BWP",
        "BZD",
        "SBD",
        "BND",
        "MMK",
        "BIF",
        "KHR",
        "CAD",
        "CVE",
        "KYD",
        "LKR",
        "CLP",
        "CNY",
        "COP",
        "KMF",
        "CRC",
        "HRK",
        "CUP",
        "CZK",
        "DKK",
        "DOP",
        "SVC",
        "ETB",
        "ERN",
        "FKP",
        "FJD",
        "DJF",
        "GMD",
        "GIP",
        "GTQ",
        "GNF",
        "GYD",
        "HTG",
        "HNL",
        "HKD",
        "HUF",
        "ISK",
        "INR",
        "IDR",
        "IRR",
        "IQD",
        "ILS",
        "JMD",
        "JPY",
        "KZT",
        "JOD",
        "KES",
        "KPW",
        "KRW",
        "KWD",
        "KGS",
        "LAK",
        "LBP",
        "LSL",
        "LRD",
        "LYD",
        "MOP",
        "MWK",
        "MYR",
        "MVR",
        "MUR",
        "MXN",
        "MNT",
        "MDL",
        "MAD",
        "OMR",
        "NAD",
        "NPR",
        "ANG",
        "AWG",
        "VUV",
        "NZD",
        "NIO",
        "NGN",
        "NOK",
        "PKR",
        "PAB",
        "PGK",
        "PYG",
        "PEN",
        "PHP",
        "QAR",
        "RUB",
        "RWF",
        "SHP",
        "SAR",
        "SCR",
        "SLL",
        "SGD",
        "VND",
        "SOS",
        "ZAR",
        "SSP",
        "SZL",
        "SEK",
        "CHF",
        "SYP",
        "THB",
        "TOP",
        "TTD",
        "AED",
        "TND",
        "UGX",
        "MKD",
        "EGP",
        "GBP",
        "TZS",
        "USD",
        "UYU",
        "UZS",
        "WST",
        "YER",
        "TWD",
        "MRU",
        "STN",
        "CUC",
        "ZWL",
        "BYN",
        "TMT",
        "GHS",
        "VEF",
        "SDG",
        "UYI",
        "RSD",
        "MZN",
        "AZN",
        "RON",
        "CHE",
        "CHW",
        "TRY",
        "XAF",
        "XCD",
        "XOF",
        "XPF",
        "XBA",
        "XBB",
        "XBC",
        "XBD",
        "XAU",
        "XDR",
        "XAG",
        "XPT",
        "XTS",
        "XPD",
        "XUA",
        "ZMW",
        "SRD",
        "MGA",
        "COU",
        "AFN",
        "TJS",
        "AOA",
        "BGN",
        "CDF",
        "BAM",
        "EUR",
        "MXV",
        "UAH",
        "GEL",
        "BOV",
        "PLN",
        "BRL",
        "CLF",
        "XSU",
        "USN",
        "XXX"
      ],
      "enum": [
        "ALL",
        "DZD",
        "ARS",
        "AUD",
        "BSD",
        "BHD",
        "BDT",
        "AMD",
        "BBD",
        "BMD",
        "BTN",
        "BOB",
        "BWP",
        "BZD",
        "SBD",
        "BND",
        "MMK",
        "BIF",
        "KHR",
        "CAD",
        "CVE",
        "KYD",
        "LKR",
        "CLP",
        "CNY",
        "COP",
        "KMF",
        "CRC",
        "HRK",
        "CUP",
        "CZK",
        "DKK",
        "DOP",
        "SVC",
        "ETB",
        "ERN",
        "FKP",
        "FJD",
        "DJF",
        "GMD",
        "GIP",
        "GTQ",
        "GNF",
        "GYD",
        "HTG",
        "HNL",
        "HKD",
        "HUF",
        "ISK",
        "INR",
        "IDR",
        "IRR",
        "IQD",
        "ILS",
        "JMD",
        "JPY",
        "KZT",
        "JOD",
        "KES",
        "KPW",
        "KRW",
        "KWD",
        "KGS",
        "LAK",
        "LBP",
        "LSL",
        "LRD",
        "LYD",
        "MOP",
        "MWK",
        "MYR",
        "MVR",
        "MUR",
        "MXN",
        "MNT",
        "MDL",
        "MAD",
        "OMR",
        "NAD",
        "NPR",
        "ANG",
        "AWG",
        "VUV",
        "NZD",
        "NIO",
        "NGN",
        "NOK",
        "PKR",
        "PAB",
        "PGK",
        "PYG",
        "PEN",
        "PHP",
        "QAR",
        "RUB",
        "RWF",
        "SHP",
        "SAR",
        "SCR",
        "SLL",
        "SGD",
        "VND",
        "SOS",
        "ZAR",
        "SSP",
        "SZL",
        "SEK",
        "CHF",
        "SYP",
        "THB",
        "TOP",
        "TTD",
        "AED",
        "TND",
        "UGX",
        "MKD",
        "EGP",
        "GBP",
        "TZS",
        "USD",
        "UYU",
        "UZS",
        "WST",
        "YER",
        "TWD",
        "MRU",
        "STN",
        "CUC",
        "ZWL",
        "BYN",
        "TMT",
        "GHS",
        "VEF",
        "SDG",
        "UYI",
        "RSD",
        "MZN",
        "AZN",
        "RON",
        "CHE",
        "CHW",
        "TRY",
        "XAF",
        "XCD",
        "XOF",
        "XPF",
        "XBA",
        "XBB",
        "XBC",
        "XBD",
        "XAU",
        "XDR",
        "XAG",
        "XPT",
        "XTS",
        "XPD",
        "XUA",
        "ZMW",
        "SRD",
        "MGA",
        "COU",
        "AFN",
        "TJS",
        "AOA",
        "BGN",
        "CDF",
        "BAM",
        "EUR",
        "MXV",
        "UAH",
        "GEL",
        "BOV",
        "PLN",
        "BRL",
        "CLF",
        "XSU",
        "USN",
        "XXX"
      ]
    },
    "DebitCreditCode": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "Credit",
        "Debit"
      ],
      "enum": [
        "Credit",
        "Debit"
      ]
    },
    "AccountIdentifiersV2": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "BBAN": {
          "title": "BBAN",
          "type": [
            "null",
            "string"
          ],
          "maxLength": 30,
          "minLength": 0
        },
        "IBAN": {
          "title": "IBAN",
          "type": [
            "null",
            "string"
          ],
          "maxLength": 34,
          "minLength": 0
        },
        "OwnerName": {
          "title": "Owner Name",
          "type": [
            "null",
            "string"
          ],
          "description": "Name of the beneficiary account holder registered with ClearBank\r\n- Faster Payments = Sender’s Account Name\r\n- Chaps = Ordering Customer’s Name",
          "maxLength": 140,
          "minLength": 0
        },
        "TransactionOwnerName": {
          "title": "Transaction Owner Name",
          "type": [
            "null",
            "string"
          ],
          "description": "Beneficiary Account Holder, as specified by the remitter in the payment message. For outbound payments, as specified by ClearBank as the remitter name in the payment message.",
          "maxLength": 140,
          "minLength": 0
        },
        "InstitutionName": {
          "title": "Institution Name",
          "type": [
            "null",
            "string"
          ],
          "description": "(InstitutionName\r\n- Chaps = Ordering Institution",
          "maxLength": 128,
          "minLength": 0
        }
      }
    },
    "AccountIdentifiersV2CA": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "BBAN": {
          "title": "BBAN",
          "type": [
            "null",
            "string"
          ],
          "maxLength": 30,
          "minLength": 0
        },
        "IBAN": {
          "title": "IBAN",
          "type": [
            "null",
            "string"
          ],
          "maxLength": 34,
          "minLength": 0
        },
        "OwnerName": {
          "title": "Owner Name",
          "type": [
            "null",
            "string"
          ],
          "description": "Populated with either the same name as TransactionOwnerName, or with “Not Provided” depending on what is provided in the payment message.\r\n- Faster Payments = Beneficiary’s Account Name\r\n- Chaps = Beneficiary’s Name",
          "maxLength": 140,
          "minLength": 0
        },
        "TransactionOwnerName": {
          "title": "Transaction Owner Name",
          "type": [
            "null",
            "string"
          ],
          "description": "Populated by Scheme with the name provided in the payment message. For outbound payments, this is populated as the Beneficiary Name which is provided by you.",
          "maxLength": 140,
          "minLength": 0
        },
        "InstitutionName": {
          "title": "Institution Name",
          "type": [
            "null",
            "string"
          ],
          "description": "InstitutionName\r\n- Chaps = Beneficiary Institution",
          "maxLength": 128,
          "minLength": 0
        }
      }
    },
    "BacsTransactionDescriptionType": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "CreditTransactionSettled",
        "DebitContraTransactionSettled",
        "DebitTransactionSettled",
        "CreditContraTransactionSettled",
        "DirectDebitReceivedIndemnityClaimSettled"
      ],
      "enum": [
        "CreditTransactionSettled",
        "DebitContraTransactionSettled",
        "DebitTransactionSettled",
        "CreditContraTransactionSettled",
        "DirectDebitReceivedIndemnityClaimSettled"
      ]
    },
    "BacsTransactionType": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "DirectCredit",
        "DirectDebit",
        "DirectDebitIndemnityClaim"
      ],
      "enum": [
        "DirectCredit",
        "DirectDebit",
        "DirectDebitIndemnityClaim"
      ]
    },    
    "SupplementaryData": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Name": {
          "title": "Name",
          "type": [
            "null",
            "string"
          ],
          "description": "CHAPS\r\nTag/Field Number in the CHAPS message\r\nMaximum Field Length: 5\r\n20\r\n13C\r\n23B\r\n23E\r\n26T\r\n32A\r\n33B\r\n36\r\n50a\r\n51A\r\n52a\r\n53a\r\n54a\r\n55a\r\n56a\r\n57a\r\n59a\r\n70\r\n71A\r\n71F\r\n71G\r\n72\r\n77B\r\n\r\nThere could be more than one Name and Value pair.\r\n\r\nFPS\r\nFields in the FPS message\r\nMaximum Field Length: 33\r\nAgencyAccountWithMember\r\nAgencySortCodeWithMember\r\nAmount\r\nBeneficiaryCreditInstitution\r\nBeneficiaryCustomerAccountAddress\r\nBeneficiaryCustomerAccountName\r\nBeneficiaryCustomerAccountNumber\r\nChargingInformation\r\nCurrency\r\nDateSent\r\nEndToEndReference\r\nExchangeRate\r\nFileId\r\nNumericReference\r\nOriginalAmount\r\nOriginalCurrency\r\nOriginatingCreditInstitution\r\nOriginatingCustomerAccountAddress\r\nOriginatingCustomerAccountName\r\nOriginatingCustomerAccountNumber\r\nPaymentReturnCode\r\nPaymentSubTypeCode\r\nPaymentType\r\nProcessedAsynchronously\r\nPurposeTransactionType\r\nReceivingMember\r\nReferenceInformation\r\nRegulatoryReporting\r\nRemittanceInformation\r\nReturnedPaymentFpId\r\nSendingFpsInstitution\r\nSettlementCycleId\r\nSubmittingMember\r\nTransactionReferenceNumber\r\nTypeOfAccountCode\r\n\r\nThere could be more than one Name and Value pair."
        },
        "Value": {
          "title": "Value",
          "type": [
            "null",
            "string"
          ],
          "maxLength": 500,
          "minLength": 0
        }
      }
    },
    "Iso20022XmlDocument": {
      "title": "Iso20022 Xml Document (Optional)",
      "type": [
        "null",
        "string"
      ],
      "description": "Only appears if Scheme is set to Chaps and the message type received is in ISO 20022 (MX) format. Content of the Document node (payload) of the received payment message, to enable processing of ISO 20022 messages for CHAPS. This value can be very long: 0-80,000 characters."
    }
  }
}