{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "ChequeReconciled",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "TransactionSetId",
    "CreditItemId",
    "Account",
    "DebitItemId",
    "ChequeAmount",
    "CounterpartAccount",
    "ChequeSerialNumber",
    "MessageId",
    "TimestampCreated"
  ],
  "properties": {
    "TransactionSetId": {
      "title": "ICS Transaction Set ID",
      "type": "string",
      "description": "Unique Transaction Set ID used for Image Clearing System (ICS) processing.",
      "maxLength": 22,
      "minLength": 1,
      "pattern": "^[0-9]*$"
    },
    "CreditItemId": {
      "title": "Credit Item - ICS Item ID",
      "type": "string",
      "description": "Unique Credit Item ID used for Image Clearing System (ICS) processing.",
      "maxLength": 25,
      "minLength": 1      
    },
    "Account": {
      "title": "Credit Item - Beneficiary Account",
      "description": "Account details of the beneficiary associated with the cheque.",
      "oneOf": [
        {
          "$ref": "#/definitions/Account"
        }
      ]
    },
    "DebitItemId": {
      "title": "Debit Item (Cheque) - ICS Item ID",
      "type": "string",
      "description": "Unique Debit Item ID used for Image Clearing System (ICS) processing.",
      "maxLength": 25,
      "minLength": 1
    },
    "ChequeAmount": {
      "title": "Debit Item (Cheque) - Amount",
      "type": "number",
      "description": "Amount for the cheque debit item in the transaction, in pounds sterling.",
      "format": "decimal"
    },
    "CounterpartAccount": {
      "title": "Debit Item (Cheque) - Counterpart Account",
      "description": "Account details for the cheque debit item in the transaction.",
      "oneOf": [
        {
          "$ref": "#/definitions/Account"
        }
      ]
    },
    "ChequeSerialNumber": {
      "title": "Debit Item (Cheque) - Cheque Serial Number",
      "type": "string",
      "description": "Cheque Serial Number for the cheque debit item in the transaction.",
      "maxLength": 6,
      "minLength": 1,
      "pattern": "^[0-9]*$"
    },
    "SwitchedSortCode": {
      "title": "Debit Item (Cheque) - Switched Sort Code",
      "type": [
        "null",
        "string"
      ],
      "description": "New sort code used when the current account switching service has provided switched account details.",
      "maxLength": 6,
      "minLength": 6,
      "pattern": "^[0-9]*$"
    },
    "SwitchedAccountNumber": {
      "title": "Debit Item (Cheque) - Switched Account Number",
      "type": [
        "null",
        "string"
      ],
      "description": "New account number used when the current account switching service has provided switched account details.",
      "maxLength": 8,
      "minLength": 8,
      "pattern": "^[0-9]*$"
    },
    "MessageId": {
      "title": "Message ID",
      "type": "string",
      "description": "Unique identifier provided to ClearBank for each payment.",
      "maxLength": 36,
      "minLength": 1
    },
    "MessageSourceId": {
      "title": "Message Source ID",
      "type": [
        "null",
        "string"
      ],
      "description": "ClearBank client identifier.",
      "maxLength": 36,
      "minLength": 0
    },
    "TimestampCreated": {
      "title": "Timestamp Created",
      "type": "string",
      "description": "Date and time when the cheque was reconciled within ClearBank. Time in UTC.",
      "format": "date-time"
    }
  },
  "definitions": {
    "Account": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "SortCode",
        "AccountNumber"
      ],
      "properties": {
        "SortCode": {
          "title": "Sort Code",
          "type": "string",
          "maxLength": 6,
          "minLength": 6,
          "pattern": "^[0-9]*$"
        },
        "AccountNumber": {
          "title": "Account Number",
          "type": "string",
          "maxLength": 8,
          "minLength": 8,
          "pattern": "^[0-9]*$"
        }
      }
    }
  }
}