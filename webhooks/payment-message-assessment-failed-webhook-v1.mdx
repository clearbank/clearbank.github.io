---
title: "Payment Message Assessment Failed webhook"
version: 1
webhook: true
---

This webhook confirms the payment assessment has failed.

Scenarios which can trigger this event include (but not limited to); sending a payment which exceeds the scheme limit, sending the payment to a disabled account, sending the payment with a duplicate Payment Id, invalid BIC, CHAPS payment approved outside of the payment window and insufficient balance to cover multiple payments.

#### Request body

```json
{
    "Type":"PaymentMessageAssesmentFailed",
    "Version":1,
    "Payload": {...},
    "Nonce":
}
```



#### Payload
| Element                 | Description                                                                                          |
|-------------------------|------------------------------------------------------------------------------------------------------|
| `MessageId`             | Unique ID to identify the message.<br /> Type: `string` <br /> Format: `GUID`<br />Max. length: `36` |
| `PaymentMethodType`     | *Optional* <br />The Scheme type.<br /> `Transfer`<br />`FasterPayments`<br />`Bacs`,<br />`Chaps`   |
| `AssesmentFailure`     | The object describes the failure reason. <br />Type: `object`<br /> It contains the `EndToEndId` and `Reasons` elements.<br /><br />`EndToEndId` : Unique Identifier supplied by you in your API request.<br />Type: `string`<br />Max. length: `35`<br /><br />`Reasons`: Reasons why ClearBank will not accept the payment message.<br />Type: `string`<br />Max. length: `100`<br />Example reasons include `Insufficient Funds` and `Account closed`  |
| `AccountIdentification` |  The object contains the account identification. <br />Type: `object`<br /> It contains the `Debtor` and `Creditors` elements. |
| `Debtor`               | **Required**<br />Debtor information object. <br />Type: `object` <br/>Contains `IBAN` and `BBAN` elements. <br /><br /> `IBAN`: International Bank Account Number associated with the account.<br /> Type: `string`  <br /> Max. length: `34` <br /><br />  `BBAN`: Basic Bank Account number associated with the account.<br /> Type: `string` <br /> Max. length: `30` |
| `Creditors`             | Creditors information object. <br />Type: `object` <br/>Contains `Reference`, `Amount`, `CurrencyCode` *(optional)*, `IBAN` and `BBAN` elements. <br /><br /> `Reference`<br/>Type:`string` <br />Max. length: `140`<br /><br /> `Amount`: Transaction amount<br />Type:`int`<br /><br />`CurrencyCode` *(optional)*:	Code of transaction currency, `GBP`<br /><br /> **Required**<br />`IBAN`: International Bank Account Number associated with the account.<br /> Type: `string`  <br /> Max. length: `34` <br /><br /> **Required**<br /> `BBAN`: Basic Bank Account number associated with the account.<br /> Type: `string` <br /> Max. length: `30` |
| `Nonce`                 | Cryptographically secure number generated by ClearBank for every single webhook. A nonce number is generated randomly and should not be used as a check for duplication. |

#### Example payment message assessment failed webhook request body

```json
{
    "Type":"PaymentMessageAssesmentFailed",
    "Version":1,
    "Payload":{
        "MessageId":"624e0276-1b27-4a80-a06d-51759711bc0e",
        "PaymentMethodType":"Transfer",
        "AssesmentFailure":[
            {
                "EndToEndId":"51236da640c9",
                "Reasons":[
                    "Insufficient Funds"
                ]
            },
            {
                "EndToEndId":"fa2b005bf7a4",
                "Reasons":[
                    "Account closed"
                ]
            }
        ],
        "AccountIdentification":{
            "Debtor":{
                "IBAN":"GB00CUBK22002243218765",
                "BBAN":"CUBK22002243218765"
            },
            "Creditors":[
                {
                    "Reference":"b4e062e244c449f8afc7e2a941562768",
                    "Amount":17.95,
                    "CurrencyCode":"GBP",
                    "IBAN":"GB00CUBK44556687654321",
                    "BBAN":"CUBK44556687654321"
                },
                {
                    "Reference":"0bae808d96bb42a6a892bc9ade169993",
                    "Amount":17.95,
                    "CurrencyCode":"GBP",
                    "IBAN":"GB00CUBK11223312345678",
                    "BBAN":"CUBK11223312345678"
                }
            ]
        }
    },
    "Nonce":1082937278
}
```

#### Example webhook response

```json
{
    "Nonce": 828803944
}
```
