---
title: "Payment Message Validation Failed webhook"
version: 1
webhook: true
---

This webhook confirms the payment validation has failed.

The table below covers common scenarios that can trigger this event. We cannot provide a complete list as these may change. The scenarios provided are designed to be human-readable, and you should be prepared to accept other values in these fields.

| Cause of error (non-exhaustive)                  | 'Reasons' field                                                                |  Scheme type      |
|--------------------------------------------------|--------------------------------------------------------------------------------|-------------------|
| Incorrect characters in the creditor name field  |  Creditor name must only contain valid Faster Payments characters              |  Faster Payments  |
| Incorrect characters in the reference field      |  Payments-0[0].Reference - must only contain valid Faster Payments characters  |  Faster Payments  |
| Sending to invalid IBAN length                   |  Payments-0[0].Creditor IBAN - must match regex pattern                        |  Faster Payments  |

#### Request body

```json
{
    "Type":"PaymentMessageValidationFailed",
    "Version":1,
    "Payload": {...},
    "Nonce":
}
```

#### Payload
| Element                 | Description     |
|-------------------------|-----------------|
| `MessageId`             | Unique ID to identify the message.<br /> Type: `string` <br /> Format: `GUID`<br />Max. length: `36` |
| `PaymentMethodType`     | **Required** <br />The Scheme type.<br /> `Transfer`,<br />`FasterPayments`,<br />`Bacs`,<br />`Chaps`  |
| `EndToEndId`            | Unique Identifier supplied by you in your API request.<br />Type: `string`<br />Max. length:`35`|
| `Reasons`               | Examples of possible reasons for failure:<br /> - Creditor name must only contain valid Faster Payments characters<br /> - Creditor name contains invalid characters<br /> - Creditor reference must only contain valid Faster Payments characters<br /> - Creditor reference contains invalid characters<br /> Type: `string`<br />Max. length: `100`  |
| `AccountIdentification` | Debtor information object<br />Type: `object`<br /> It contains the `IBAN`, `BBAN`, `CUID` *(optional)*, `UPIC` *(optional)*, `AccountName` *(optional)*, `AccountHolderLabel` *(optional)* and `InstitutionName` *(optional)*.<br /><br /> `IBAN`: International Bank Account Number associated with the account.<br /> Type: `string`  <br /> Max. length: `34` <br /><br />  `BBAN`: Basic Bank Account number associated with the account.<br /> Type: `string` <br /> Max. length: `30` <br /> <br />`CUID` *(optional)*: The CHIPS UID is assigned by the New York Clearing House<br /><br/> `UPIC` *(optional)*: Identifier used by the New York Clearing House<br /><br />`AccountName` *(optional)*: Name of the account. <br /> Type: `string`<br /> Max. length: `128`<br /><br />`AccountHolderLabel` *(optional)*: The account description. <br /> Type: `string` <br /> Max. length: `100`<br /><br />`InstitutionName` *(optional)*: The institution name<br />Type: `string`<br />Max. length: `128`  |
| `Creditors`             | Creditor(s) information object<br />Type: `object`<br />It contains `Reference`,`Amount`,`CurrencyCode`,`IBAN` *(optional - oneOf)*: you will either receive the IBAN or the BBAN field, `BBAN` *(optional - oneOf)*: you will either receive the IBAN or the BBAN field,`CUID` *(optional)*, `UPIC` *(optional)*, `AccountName` *(optional)*, `AccountHolderLabel` *(optional)* and `InstitutionName` *(optional)*.<br /><br />`Reference`: Payment reference specified by the debtor.<br />Type: `string` Max. length: `140`<br /><br />`Amount`: Transaction amount<br />Type:`int`<br /><br />`CurrencyCode`: Code of transaction currency<br /><br /> `IBAN` *(optional)*: International Bank Account Number associated with the account.<br /> Type: `string`  <br /> Max. length: `34` <br /><br />  `BBAN` *(optional)*: Basic Bank Account number associated with the account.<br /> Type: `string` <br /> Max. length: `30` <br /> <br />`CUID` *(optional)*: The CHIPS UID is assigned by the New York Clearing House<br /><br/> `UPIC` *(optional)*: Identifier used by the New York Clearing House<br /><br />`AccountName` *(optional)*: Name of the account. <br /> Type: `string`<br /> Max. length: `128`<br /><br />`AccountHolderLabel` *(optional)*: The account description. <br /> Type: `string` <br /> Max. length: `100`<br /><br />`InstitutionName` *(optional)*: The institution name<br />Type: `string`<br />Max. length: `128` |
| `Nonce`                 | Cryptographically secure number generated by ClearBank for every single webhook. A nonce number is generated randomly and should not be used as a check for duplication.   |


#### Example payment message validation failed webhook request body

```json
{
    "Type":"PaymentMessageValidationFailed",
    "Version":1,
    "Payload":{
        "MessageId":"164ac6a0-8e15-4592-b99e-c0a7399f1295",
        "PaymentMethodType":"Transfer",
        "ValidationFailure":[
            {
                "EndToEndId":"72db39cd1693",
                "Reasons":[
                    "Creditor name contains invalid characters"
                ]
            }
        ],
        "AccountIdentification":{
            "Debtor":{
                "IBAN":"GB00CUBK22002243218765",
                "BBAN":"CUBK22002243218765",
                "CUID":null,
                "UPIC":null,
                "AccountName":"JANE DOE",
                "AccountHolderLabel":"JANE DOE",
                "InstitutionName":"CustomerBank"
            },
            "Creditors":[
                {
                    "Reference":"86671a4add96f7a9cc569a6a4a601b38",
                    "Amount":17.95,
                    "CurrencyCode":"GBP",
                    "IBAN":"GB00CUBK44556687654321",
                    "BBAN":"CUBK44556687654321",
                    "CUID":null,
                    "UPIC":null,
                    "AccountName":"Bob Robson",
                    "AccountHolderLabel":"Bob Robson",
                    "InstitutionName":"MyBank"
                }
            ]
        }
    },
    "Nonce":1634549462
}
```

#### Example webhook response

```json
{
    "Nonce": 1634549462
}
```
