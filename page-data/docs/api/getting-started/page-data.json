{"componentChunkName":"component---src-templates-pages-tsx","path":"/docs/api/getting-started","result":{"data":{"site":{"siteMetadata":{"title":"ClearBankÂ® Developer Portal","docsLocation":"https://github.com/clearbank/docs/tree/master/content/docs"}},"mdx":{"fields":{"id":"6d9df810-91de-537b-a9d3-bc867c37d994","title":"Getting started","slug":"/docs/api/getting-started"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Getting started\",\n  \"order\": 2,\n  \"showPageMenu\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Get connected\"), mdx(\"p\", null, \"Before you can integrate with our API, you need to have been onboarded by us as a customer and have a valid authentication profile set up.\\nThis authentication profile includes your Digital Certificate and secure API token. The API token needs to be included in the header of all REST API calls.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Environment\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ClearBank Portal URL\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"What you need for access\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Simulation\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://institution-sim.clearbank.co.uk/\"\n  }, \"https://institution-sim.clearbank.co.uk/\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"- Login credentials for the Institution Portal (these are provided to you during the onboarding process) \", mdx(\"br\", null), \" - Your authentication profile\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Production\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://institution.clearbank.co.uk/\"\n  }, \"https://institution.clearbank.co.uk/\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"- Login credentials for the Institution Portal (these are provided to you during the onboarding process) \", mdx(\"br\", null), \" - A generic authenticator app such as Microsoft Authenticator (or for pre-migration users, the ClearBank Authenticator app) registered with your Android, iOS or Windows device  \", mdx(\"br\", null), \" - Your authentication profile\")))), mdx(\"h3\", null, \"Create your authentication profile\"), mdx(\"p\", null, \"Your ClearBank authentication profile links your institution to your public key. Therefore, it must be valid.\"), mdx(\"p\", null, \"Your authentication profile is a combination of:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A key pair (public/private)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A Certificate Signing Request (CSR) in PKCS #10 format*\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A token\")), mdx(\"p\", null, \"*In the simulation environment, a CSR can be generated using open source solutions. In the production environment, a CSR must be generated using a FIPS 140-2 level 2 compliant Hardware Security Module (HSM) such as Azure KV HSM, Amazon CloudHSM, GoogleCloudHSM (this is not an exhaustive list).\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create a valid authentication profile:\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Generate your public key and private key pair in PKCS #8 format\"), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"In the simulation environment, you can utilise open source tools to store your private key. In the production environment, you must use a physical or virtual HSM solution to store your private key (see HSM requirements above)\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Generate your Certificate Signing Request (CSR) in PKCS #10 format which contains your certificate and public key\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Save your CSR as a .csr file\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Sign in to the ClearBank Portal using the URL from the table above.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"From the menu, select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Institution > Certificates and Tokens\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Generate API Token\")), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/images/GenerateToken_1.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Certificates and Tokens page\"\n  })))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Upload your Certificate Signing Request (.CSR) file\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enter the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Token Name\"), \" and select an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expiry Date\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Generate\"), \" to generate your token\"))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your token will appear in the View Token window:\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/images/GenerateToken_2.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Generate API Tokens\"\n  }))), mdx(\"blockquote\", null, mdx(\"ul\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You will only be able to view your token once (at the time of creation).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You can copy the token directly or copy it to your clipboard using the button provided.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ensure that you store your token securely now. Otherwise, you will need to generate a new one.\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"/assets/images/GenerateToken_3.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"View Tokens\"\n  })))), mdx(\"p\", null, \"Congratulations! You have successfully created your authentication profile.\"), mdx(\"h3\", null, \"Create your digital signature\"), mdx(\"p\", null, \"We use a digital signature to ensure that the integrity of a request body (sent to us) is maintained. The whole HTTP request body (in its original format) is used to create a digital signature, as it is specific to the body of each request.\"), mdx(\"p\", null, \"We use the following specifications to create a digital signature:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Raw message encoding: UTF-8\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Message digest algorithm: SHA-256\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Signing algorithm: RSA\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Padding: PKCS#1 v1.5\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Digital signature encoding: Base64\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create a digital signature:\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"UTF-8 encode the exact request body that will be sent to our API (any differences including the addition or removal of spaces will result in a totally different digital signature)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Hash the encoded value using SHA-256\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Request a digital signature for that hash value from your Hardware Security Module (HSM)\"), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"(In the simulation environment, this can be done using open source solutions.)\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The output is the message digital signature\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Send the Base64 encoded string representation of the digital signature in the HTTP header \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" for all requests that have a request body\"))), mdx(\"p\", null, \"For additional help with creating your authentication profile and digital signature, please refer to the following examples on the ClearBank GitHub repository:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-101\"\n  }, \"C# example for ClearBank API and Webhooks\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-postman\"\n  }, \"Postman Collections for invoking the ClearBank API\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool\"\n  }, \"C# example for signing ClearBank API requests\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool-python\"\n  }, \"Python example for signing ClearBank API requests\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool-java\"\n  }, \"Java example for signing ClearBank API requests\"))), mdx(\"p\", null, \"Please note that the code in these examples is not production ready and has been simplified for brevity.\"), mdx(\"h2\", null, \"Use endpoints\"), mdx(\"p\", null, \"Once you have set up your connection to our simulation environment, you are ready to send requests using our API endpoints. The information here allows you to use the GET /v1/Test and POST /v1/Test endpoints.\"), mdx(\"h3\", null, \"Header parameters\"), mdx(\"p\", null, \"We utilise HTTP-request headers for our API calls which include \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Request-Id\"), \" headers. In all our responses we will send an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Correlation-Id\"), \" in the header, together with an \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#http-status-codes\"\n  }, \"HTTP status code\"), \".\"), mdx(\"p\", null, \"Different request types require different headers as shown in this table:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Request method\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Header parameters\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"PUT, POST, PATCH, DELETE\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization, DigitalSignature, X-Request-Id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Response\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"X-Correlation-Id\")))), mdx(\"p\", null, \"Here are the details of each parameter:\"), mdx(ParameterDetails, {\n    parameter: parameters.authorization,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.digitalSignature,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.xRequestId,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.xCorrelationId,\n    mdxType: \"ParameterDetails\"\n  }), mdx(\"h3\", null, \"Authenticate your API calls\"), mdx(\"p\", null, \"We use your API token to authenticate your requests and allow you to securely access protected resources.\"), mdx(\"p\", null, \"The base URL for your environment is either:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Simulation \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://institution-api-sim.clearbank.co.uk/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Production \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://institution-api.clearbank.co.uk/\"))), mdx(\"p\", null, \"Your API token should be included in your HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \" header. Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#header-parameters\"\n  }, \"Header parameters\"), \" for more information.\"), mdx(\"p\", null, \"This example request shows the API token in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \" , \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Request-Id\"), \" header.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -v -POST https://institution-api-sim.clearbank.co.uk/v1/Test \\\\\\n  -H \\u201CAuthorization: Bearer <<your api token>>\\u201D\\n  -H \\u201CDigitalSignature: <<digitalsignature>>\\u201D\\n  -H \\u201CX-Request-Id: <<X-request-ID>>\\u201D\\xA0 \\xA0  \\xA0\\n  -d \\u2018{ \\\"body\\\": \\\"hello world!\\\" }\\u2019\\xA0 \\xA0 \\xA0\\xA0\\n\")), mdx(\"p\", null, \"The response shows results from the test call\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"Message\\\": \\\"hello world!\\\"\\n}\\n\")), mdx(\"p\", null, \"To confirm that authentication and signature verification are working as expected, when you send a POST/v1/Test request you will receive a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent webhook\"), \" from ClearBank (if you are subscribed to it).\\nWe use webhooks to deliver transaction confirmation notifications and account-specific reconciliations to your system as soon as such events occur on your account. Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/webhooks/\"\n  }, \"Test Webhooks\"), \" for more information.\"), mdx(EndpointBlock, {\n    type: \"get\",\n    title: \"GET Test endpoint\",\n    endpoints: [{\n      path: \"/v1/Test\",\n      version: \"1.0\",\n      title: \"GET Test endpoint\"\n    }],\n    mdxType: \"EndpointBlock\"\n  }), mdx(EndpointBlock, {\n    type: \"post\",\n    title: \"POST Test endpoint\",\n    endpoints: [{\n      path: \"/v1/Test\",\n      version: \"1.0\",\n      title: \"POST Test endpoint\"\n    }],\n    mdxType: \"EndpointBlock\"\n  }), mdx(\"h3\", null, \"Query parameters\"), mdx(\"p\", null, \"For most of our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" requests, one or more query parameters in the request URL can be used to specify the number of returned results and the number of pages returned.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Parameter\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageNumber\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The page number to control returned results into manageable sets. Default if not supplied: 1 \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageNumber=1\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageSize\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The page size to control returned results into manageable sets. Default if not supplied: 50 \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageSize=50\"))))), mdx(\"h3\", null, \"HTTP status codes\"), mdx(\"p\", null, \"When you send a request, the response will include an HTTP status code to indicate the success or failure of the request. For successful requests, we return a HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2XX\"), \" status code. For failed requests, we return a HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"4XX\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"5XX\"), \" status code. Some endpoints return JSON response bodies that include errors and additional properties.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Status Code\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"200\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Success!\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"201\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Success!\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"202\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Request received successfully and is being processed.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"400\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bad request. Something went wrong with the request. The response should include the reason why the request has failed.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"403\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Forbidden. Your API token does not have permissions to perform the request\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"404\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Not found. The resource you are looking for cannot be found\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"409\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Conflict. A request conflict with the current state of the server\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"429\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Too many requests. You have sent too many requests in a given time (\\\"rate limiting\\\")\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"500\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Internal server error\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"503\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Server error. Service unavailable\")))), mdx(\"h4\", null, \"5xx status codes\"), mdx(\"p\", null, \"If you receive a 5xx error code, you should retry your request as these are service errors. A request that returns these errors may, in exceptional circumstances, result in being processed regardless. Following which, you will receive a notification (webhook) delivered to you as expected. \"), mdx(\"p\", null, \"To avoid any duplication, always retry all such requests with exactly the same request ID header and payload. If the initial request is successful, the retry request will trigger a notification (HTTP response or webhook) to confirm that it has not been processed as it was identified as a duplicate.\"), mdx(\"h4\", null, \"Example of a response containing detailed errors\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"errors\\\": {\\n    \\\"additionalProp1\\\": [\\n      \\\"string\\\"\\n    ],\\n    \\\"additionalProp2\\\": [\\n      \\\"string\\\"\\n    ],\\n    \\\"additionalProp3\\\": [\\n      \\\"string\\\"\\n    ]\\n  },\\n  \\\"type\\\": \\\"string\\\",\\n  \\\"title\\\": \\\"string\\\",\\n  \\\"status\\\": 0,\\n  \\\"detail\\\": \\\"string\\\",\\n  \\\"instance\\\": \\\"string\\\"\\n}\\n\")), mdx(\"h3\", null, \"HAL Links\"), mdx(\"p\", null, \"We use HAL (Hypertext Application Language) to hyperlink between resources in our API.\"), mdx(\"p\", null, \"Each HAL hyperlink contains:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Parameter\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"name\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"string\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The named link type\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"href\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"string\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"URI to be used\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"templated\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"boolean\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Specified as \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"true\"), \" if href is a URI template, i.e. with parameters. Otherwise, this property is absent or set to \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"false\"))))), mdx(\"h4\", null, \"Example HAL Links\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"accounts\\\": [\\n        {\\n            \\\"id\\\": \\\"9140d28b-58d4-4e14-a5fe-43a655c82162\\\",\\n            \\\"name\\\": \\\"Gen Seg Acc Wsale - TradingBankEnd2End\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Gen Seg Acc Wsale - TradingBankEnd2End\\\",\\n                    \\\"amount\\\": 2000000.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB90CLRB04190000001107\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001107\\\"\\n        },\\n        {\\n            \\\"id\\\": \\\"9b3dd95c-92a0-4c22-8314-da97906f4a2b\\\",\\n            \\\"name\\\": \\\"Mandated Minimum Balance Account\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Mandated Minimum Balance Account\\\",\\n                    \\\"amount\\\": 2000000.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB57CLRB04190000001119\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001119\\\"\\n        },\\n        {\\n            \\\"id\\\": \\\"0392ffce-fd15-47a6-824f-708e0bee007b\\\",\\n            \\\"name\\\": \\\"Operating Account\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Operating Account\\\",\\n                    \\\"amount\\\": 1999992.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB95CLRB04190000001114\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001114\\\"\\n        }\\n    ],\\n    \\\"halLinks\\\": [\\n        {\\n            \\\"name\\\": \\\"self\\\",\\n            \\\"href\\\": \\\"https://institution-sim.clearbank.co.uk/v1/Accounts\\\",\\n            \\\"templated\\\": false\\n        },\\n        {\\n            \\\"name\\\": \\\"Account\\\",\\n            \\\"href\\\": \\\"https://institution-sim.clearbank.co.uk/v1/Accounts/{accountId}\\\",\\n            \\\"templated\\\": true\\n        },\\n        {\\n            \\\"name\\\": \\\"Transactions\\\",\\n            \\\"href\\\": \\\"https://blue-institution-sim.clearbank.co.uk/v1/Accounts/{accountId}/Transactions\\\",\\n            \\\"templated\\\": true\\n        },\\n        {\\n            \\\"name\\\": \\\"Mandates\\\",\\n            \\\"href\\\": \\\"https://blue-institution-sim.clearbank.co.uk/v1/Accounts/{accountId}/Mandates\\\",\\n            \\\"templated\\\": true\\n        }\\n    ]\\n}\\n\")), mdx(\"h2\", null, \"Use webhooks\"), mdx(\"h3\", null, \"What are webhooks?\"), mdx(\"p\", null, \"When certain events occur, we generate and send out a webhook message to your defined URL. You can subscribe to the webhooks you wish to recieve as described in \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#set-up-and-test-webhook-listener-urls\"\n  }, \"Set up and test webhook listener URLs\"), \". When you recieve a webhook, you will need to respond to it to confirm receipt.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"All ClearBank webhooks consist of a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Type\"), \",\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Version\"), \",\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Payload\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \". \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Payload\"), \" parameters vary depending on the webhook.\")), mdx(\"h4\", null, \"Webhook structure\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Element\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"DigitalSignature\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ClearBank's Digital Signature\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Type\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The type of the event\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Version\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The webhook version\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Nonce\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cryptographically secure number generated by ClearBank for every single webhook. A nonce number is generated randomly and should not be used as a check for duplication\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Payload\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"array\", \"[object]\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Object which contains information related to the webhook\")))), mdx(\"h4\", null, \"Response structure\"), mdx(\"p\", null, \"Webhook responses contain a 200 HTTP status code which includes a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \" number in the body and your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \".\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Element\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"DigitalSignature\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Signed hash of the body of the request. The hash is signed by your private key.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Nonce\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The value that you receive in the webhook\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"200 \")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HTTP response status code\")))), mdx(\"h3\", null, \"Responding to a webhook\"), mdx(\"p\", null, \"The webhook sent by ClearBank acts as a verification mechanism.\\nYou verify that it is ClearBank that has sent you the webhook and subsequently, ClearBank needs to verify that you have successfully received the webhook (based on your response acknowledging receipt).\"), mdx(\"p\", null, \"This verification occurs when you return a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" HTTP response, which includes the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \" number in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"response body\"), \"  and your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \".\\nIf your response is invalid, then the webhook is considered to have failed. ClearBank will send the webhook every 15 minutes for 24 hours unless a successful, valid response is returned by you.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To\\xA0verify the\\xA0integrity of the webhook received from ClearBank\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Download a Public Key specific to your institution by clicking the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Download Public Key\"), \" button on the Webhook Management page of the Institution portal.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hash the request body using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SHA 256\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Convert the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DigitalSignature\"), \" Request Header value from \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Base64\"), \" encoded string into the byte array\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Verify the signature using the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RSA\"), \" algorithm\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create the webhook digital signature\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Take the Nonce number from the webhook and place it in the body of the response (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"{\\\"nonce\\\": <value>}\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hash the response body using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SHA 256\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Sign the hash with your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Private Key\"), \" and attach the signed hash as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Base64\"), \" encoded in the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DigitalSignature\"), \" Response Header\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your Private Key needs to correspond to a Public Key which has been used to create a Certificate Signing Request (CSR). Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/#create-your-authentication-profile\"\n  }, \"Create your authentication profile\"), \" for more information.\")), mdx(\"p\", null, \"Example HTTP request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"POST http://yourdomain.com/sample/webhook HTTP/1.1\\nContent-Type: application/json\\nContent-Length: 72\\nDigitalsignature: YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY\\nX-Request-Id: f0309d95-4f68-4ecd-9c8d-b2d08d9fedd8\\n\\n{\\\"Type\\\":\\\"FITestEvent\\\",\\\"Version\\\":1,\\\"Payload\\\":\\\"test me\\\",\\\"Nonce\\\":1448545215}\\n\")), mdx(\"p\", null, \"Example HTTP response:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"HTTP/1.1 200 OK\\nDigitalsignature: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\\nContent-Type: application/json\\n\\n{\\n    \\\"Nonce\\\": 1448545215\\n}\\n\")), mdx(\"h3\", null, \"Set up and test webhook listener URLs\"), mdx(\"p\", null, \"You can create one webhook listener for\\xA0all\\xA0events or separate webhook listeners\\xA0specific\\xA0to an event.\\nIn this example, you will setup an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent\"), \" webhook URL, which you can test against the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#post-test-endpoint\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"TEST POST\"), \" endpoint\"), \".\"), mdx(\"p\", null, \"To manage your\\xA0webhook definitions and set your\\xA0webhook\\xA0listener URLs for each event:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Log in to the ClearBank Portal. More information about accessing the portal can be found \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#get-connected\"\n  }, \"here\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"From the menu, select\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Institution\"), \"\\xA0>\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Webhook Management\"), \".\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"/assets/images/webhook-management-page.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Webhook management page\"\n  })), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Search for \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Test webhook\"), \" and click the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Edit\\xA0button\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enter the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"URL\"), \" you want to define as your webhook listener for this webhook and set the webhook status to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Enabled\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Select\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Save\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To test the webhook, select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Test button\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enter a test message in the Test webhook window for example, \\u2018Hello World\\u2019 and select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Send\"), \".\")), mdx(\"p\", null, \"You should receive a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent webhook\"), \" to your nominated URL containing the test message in the body.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"You must not include any sensitive information (such as API keys) in your webhook URLs.\")), mdx(\"p\", null, \"The range of public IP addresses to support your interaction with ClearBank webhooks is:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Simulation Public IP address range: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"51.145.122.16/28\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Production Public IP address range: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"51.145.122.32/28\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#get-connected","title":"Get connected","items":[{"url":"#create-your-authentication-profile","title":"Create your authentication profile"},{"url":"#create-your-digital-signature","title":"Create your digital signature"}]},{"url":"#use-endpoints","title":"Use endpoints","items":[{"url":"#header-parameters","title":"Header parameters"},{"url":"#authenticate-your-api-calls","title":"Authenticate your API calls"},{"url":"#query-parameters","title":"Query parameters"},{"url":"#http-status-codes","title":"HTTP status codes","items":[{"url":"#5xx-status-codes","title":"5xx status codes"},{"url":"#example-of-a-response-containing-detailed-errors","title":"Example of a response containing detailed errors"}]},{"url":"#hal-links","title":"HAL Links","items":[{"url":"#example-hal-links","title":"Example HAL Links"}]}]},{"url":"#use-webhooks","title":"Use webhooks","items":[{"url":"#what-are-webhooks","title":"What are webhooks?","items":[{"url":"#webhook-structure","title":"Webhook structure"},{"url":"#response-structure","title":"Response structure"}]},{"url":"#responding-to-a-webhook","title":"Responding to a webhook"},{"url":"#set-up-and-test-webhook-listener-urls","title":"Set up and test webhook listener URLs"}]}]},"parent":{"relativePath":"docs/api/getting-started.mdx"},"frontmatter":{"metaTitle":null,"metaDescription":null,"showPageMenu":true}},"pageContent":{"edges":[{"node":{"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Getting started\",\n  \"order\": 2,\n  \"showPageMenu\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Get connected\"), mdx(\"p\", null, \"Before you can integrate with our API, you need to have been onboarded by us as a customer and have a valid authentication profile set up.\\nThis authentication profile includes your Digital Certificate and secure API token. The API token needs to be included in the header of all REST API calls.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Environment\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ClearBank Portal URL\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"What you need for access\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Simulation\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://institution-sim.clearbank.co.uk/\"\n  }, \"https://institution-sim.clearbank.co.uk/\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"- Login credentials for the Institution Portal (these are provided to you during the onboarding process) \", mdx(\"br\", null), \" - Your authentication profile\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Production\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://institution.clearbank.co.uk/\"\n  }, \"https://institution.clearbank.co.uk/\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"- Login credentials for the Institution Portal (these are provided to you during the onboarding process) \", mdx(\"br\", null), \" - A generic authenticator app such as Microsoft Authenticator (or for pre-migration users, the ClearBank Authenticator app) registered with your Android, iOS or Windows device  \", mdx(\"br\", null), \" - Your authentication profile\")))), mdx(\"h3\", null, \"Create your authentication profile\"), mdx(\"p\", null, \"Your ClearBank authentication profile links your institution to your public key. Therefore, it must be valid.\"), mdx(\"p\", null, \"Your authentication profile is a combination of:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A key pair (public/private)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A Certificate Signing Request (CSR) in PKCS #10 format*\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A token\")), mdx(\"p\", null, \"*In the simulation environment, a CSR can be generated using open source solutions. In the production environment, a CSR must be generated using a FIPS 140-2 level 2 compliant Hardware Security Module (HSM) such as Azure KV HSM, Amazon CloudHSM, GoogleCloudHSM (this is not an exhaustive list).\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create a valid authentication profile:\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Generate your public key and private key pair in PKCS #8 format\"), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"In the simulation environment, you can utilise open source tools to store your private key. In the production environment, you must use a physical or virtual HSM solution to store your private key (see HSM requirements above)\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Generate your Certificate Signing Request (CSR) in PKCS #10 format which contains your certificate and public key\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Save your CSR as a .csr file\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Sign in to the ClearBank Portal using the URL from the table above.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"From the menu, select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Institution > Certificates and Tokens\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Generate API Token\")), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/images/GenerateToken_1.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Certificates and Tokens page\"\n  })))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Upload your Certificate Signing Request (.CSR) file\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enter the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Token Name\"), \" and select an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expiry Date\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Generate\"), \" to generate your token\"))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your token will appear in the View Token window:\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/images/GenerateToken_2.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Generate API Tokens\"\n  }))), mdx(\"blockquote\", null, mdx(\"ul\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You will only be able to view your token once (at the time of creation).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You can copy the token directly or copy it to your clipboard using the button provided.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ensure that you store your token securely now. Otherwise, you will need to generate a new one.\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"/assets/images/GenerateToken_3.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"View Tokens\"\n  })))), mdx(\"p\", null, \"Congratulations! You have successfully created your authentication profile.\"), mdx(\"h3\", null, \"Create your digital signature\"), mdx(\"p\", null, \"We use a digital signature to ensure that the integrity of a request body (sent to us) is maintained. The whole HTTP request body (in its original format) is used to create a digital signature, as it is specific to the body of each request.\"), mdx(\"p\", null, \"We use the following specifications to create a digital signature:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Raw message encoding: UTF-8\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Message digest algorithm: SHA-256\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Signing algorithm: RSA\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Padding: PKCS#1 v1.5\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Digital signature encoding: Base64\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create a digital signature:\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"UTF-8 encode the exact request body that will be sent to our API (any differences including the addition or removal of spaces will result in a totally different digital signature)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Hash the encoded value using SHA-256\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Request a digital signature for that hash value from your Hardware Security Module (HSM)\"), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"(In the simulation environment, this can be done using open source solutions.)\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The output is the message digital signature\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Send the Base64 encoded string representation of the digital signature in the HTTP header \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" for all requests that have a request body\"))), mdx(\"p\", null, \"For additional help with creating your authentication profile and digital signature, please refer to the following examples on the ClearBank GitHub repository:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-101\"\n  }, \"C# example for ClearBank API and Webhooks\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-postman\"\n  }, \"Postman Collections for invoking the ClearBank API\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool\"\n  }, \"C# example for signing ClearBank API requests\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool-python\"\n  }, \"Python example for signing ClearBank API requests\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/clearbank/fi-api-signtool-java\"\n  }, \"Java example for signing ClearBank API requests\"))), mdx(\"p\", null, \"Please note that the code in these examples is not production ready and has been simplified for brevity.\"), mdx(\"h2\", null, \"Use endpoints\"), mdx(\"p\", null, \"Once you have set up your connection to our simulation environment, you are ready to send requests using our API endpoints. The information here allows you to use the GET /v1/Test and POST /v1/Test endpoints.\"), mdx(\"h3\", null, \"Header parameters\"), mdx(\"p\", null, \"We utilise HTTP-request headers for our API calls which include \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Request-Id\"), \" headers. In all our responses we will send an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Correlation-Id\"), \" in the header, together with an \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#http-status-codes\"\n  }, \"HTTP status code\"), \".\"), mdx(\"p\", null, \"Different request types require different headers as shown in this table:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Request method\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Header parameters\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"PUT, POST, PATCH, DELETE\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization, DigitalSignature, X-Request-Id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Response\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"X-Correlation-Id\")))), mdx(\"p\", null, \"Here are the details of each parameter:\"), mdx(ParameterDetails, {\n    parameter: parameters.authorization,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.digitalSignature,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.xRequestId,\n    mdxType: \"ParameterDetails\"\n  }), mdx(ParameterDetails, {\n    parameter: parameters.xCorrelationId,\n    mdxType: \"ParameterDetails\"\n  }), mdx(\"h3\", null, \"Authenticate your API calls\"), mdx(\"p\", null, \"We use your API token to authenticate your requests and allow you to securely access protected resources.\"), mdx(\"p\", null, \"The base URL for your environment is either:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Simulation \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://institution-api-sim.clearbank.co.uk/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Production \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://institution-api.clearbank.co.uk/\"))), mdx(\"p\", null, \"Your API token should be included in your HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \" header. Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#header-parameters\"\n  }, \"Header parameters\"), \" for more information.\"), mdx(\"p\", null, \"This example request shows the API token in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \" , \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Request-Id\"), \" header.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -v -POST https://institution-api-sim.clearbank.co.uk/v1/Test \\\\\\n  -H \\u201CAuthorization: Bearer <<your api token>>\\u201D\\n  -H \\u201CDigitalSignature: <<digitalsignature>>\\u201D\\n  -H \\u201CX-Request-Id: <<X-request-ID>>\\u201D\\xA0 \\xA0  \\xA0\\n  -d \\u2018{ \\\"body\\\": \\\"hello world!\\\" }\\u2019\\xA0 \\xA0 \\xA0\\xA0\\n\")), mdx(\"p\", null, \"The response shows results from the test call\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"Message\\\": \\\"hello world!\\\"\\n}\\n\")), mdx(\"p\", null, \"To confirm that authentication and signature verification are working as expected, when you send a POST/v1/Test request you will receive a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent webhook\"), \" from ClearBank (if you are subscribed to it).\\nWe use webhooks to deliver transaction confirmation notifications and account-specific reconciliations to your system as soon as such events occur on your account. Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/webhooks/\"\n  }, \"Test Webhooks\"), \" for more information.\"), mdx(EndpointBlock, {\n    type: \"get\",\n    title: \"GET Test endpoint\",\n    endpoints: [{\n      path: \"/v1/Test\",\n      version: \"1.0\",\n      title: \"GET Test endpoint\"\n    }],\n    mdxType: \"EndpointBlock\"\n  }), mdx(EndpointBlock, {\n    type: \"post\",\n    title: \"POST Test endpoint\",\n    endpoints: [{\n      path: \"/v1/Test\",\n      version: \"1.0\",\n      title: \"POST Test endpoint\"\n    }],\n    mdxType: \"EndpointBlock\"\n  }), mdx(\"h3\", null, \"Query parameters\"), mdx(\"p\", null, \"For most of our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" requests, one or more query parameters in the request URL can be used to specify the number of returned results and the number of pages returned.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Parameter\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageNumber\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The page number to control returned results into manageable sets. Default if not supplied: 1 \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageNumber=1\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageSize\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The page size to control returned results into manageable sets. Default if not supplied: 50 \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"pageSize=50\"))))), mdx(\"h3\", null, \"HTTP status codes\"), mdx(\"p\", null, \"When you send a request, the response will include an HTTP status code to indicate the success or failure of the request. For successful requests, we return a HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2XX\"), \" status code. For failed requests, we return a HTTP \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"4XX\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"5XX\"), \" status code. Some endpoints return JSON response bodies that include errors and additional properties.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Status Code\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"200\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Success!\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"201\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Success!\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"202\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Request received successfully and is being processed.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"400\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bad request. Something went wrong with the request. The response should include the reason why the request has failed.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"403\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Forbidden. Your API token does not have permissions to perform the request\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"404\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Not found. The resource you are looking for cannot be found\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"409\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Conflict. A request conflict with the current state of the server\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"429\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Too many requests. You have sent too many requests in a given time (\\\"rate limiting\\\")\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"500\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Internal server error\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"503\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Server error. Service unavailable\")))), mdx(\"h4\", null, \"5xx status codes\"), mdx(\"p\", null, \"If you receive a 5xx error code, you should retry your request as these are service errors. A request that returns these errors may, in exceptional circumstances, result in being processed regardless. Following which, you will receive a notification (webhook) delivered to you as expected. \"), mdx(\"p\", null, \"To avoid any duplication, always retry all such requests with exactly the same request ID header and payload. If the initial request is successful, the retry request will trigger a notification (HTTP response or webhook) to confirm that it has not been processed as it was identified as a duplicate.\"), mdx(\"h4\", null, \"Example of a response containing detailed errors\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"errors\\\": {\\n    \\\"additionalProp1\\\": [\\n      \\\"string\\\"\\n    ],\\n    \\\"additionalProp2\\\": [\\n      \\\"string\\\"\\n    ],\\n    \\\"additionalProp3\\\": [\\n      \\\"string\\\"\\n    ]\\n  },\\n  \\\"type\\\": \\\"string\\\",\\n  \\\"title\\\": \\\"string\\\",\\n  \\\"status\\\": 0,\\n  \\\"detail\\\": \\\"string\\\",\\n  \\\"instance\\\": \\\"string\\\"\\n}\\n\")), mdx(\"h3\", null, \"HAL Links\"), mdx(\"p\", null, \"We use HAL (Hypertext Application Language) to hyperlink between resources in our API.\"), mdx(\"p\", null, \"Each HAL hyperlink contains:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Parameter\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"name\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"string\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The named link type\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"href\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"string\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Required\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"URI to be used\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"templated\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"boolean\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Specified as \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"true\"), \" if href is a URI template, i.e. with parameters. Otherwise, this property is absent or set to \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"false\"))))), mdx(\"h4\", null, \"Example HAL Links\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"accounts\\\": [\\n        {\\n            \\\"id\\\": \\\"9140d28b-58d4-4e14-a5fe-43a655c82162\\\",\\n            \\\"name\\\": \\\"Gen Seg Acc Wsale - TradingBankEnd2End\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Gen Seg Acc Wsale - TradingBankEnd2End\\\",\\n                    \\\"amount\\\": 2000000.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB90CLRB04190000001107\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001107\\\"\\n        },\\n        {\\n            \\\"id\\\": \\\"9b3dd95c-92a0-4c22-8314-da97906f4a2b\\\",\\n            \\\"name\\\": \\\"Mandated Minimum Balance Account\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Mandated Minimum Balance Account\\\",\\n                    \\\"amount\\\": 2000000.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB57CLRB04190000001119\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001119\\\"\\n        },\\n        {\\n            \\\"id\\\": \\\"0392ffce-fd15-47a6-824f-708e0bee007b\\\",\\n            \\\"name\\\": \\\"Operating Account\\\",\\n            \\\"type\\\": \\\"CACC\\\",\\n            \\\"currency\\\": [\\n                \\\"GBP\\\"\\n            ],\\n            \\\"balances\\\": [\\n                {\\n                    \\\"name\\\": \\\"Operating Account\\\",\\n                    \\\"amount\\\": 1999992.00,\\n                    \\\"currency\\\": \\\"GBP\\\",\\n                    \\\"status\\\": \\\"VALU\\\"\\n                }\\n            ],\\n            \\\"iban\\\": \\\"GB95CLRB04190000001114\\\",\\n            \\\"bban\\\": \\\"CLRB04190000001114\\\"\\n        }\\n    ],\\n    \\\"halLinks\\\": [\\n        {\\n            \\\"name\\\": \\\"self\\\",\\n            \\\"href\\\": \\\"https://institution-sim.clearbank.co.uk/v1/Accounts\\\",\\n            \\\"templated\\\": false\\n        },\\n        {\\n            \\\"name\\\": \\\"Account\\\",\\n            \\\"href\\\": \\\"https://institution-sim.clearbank.co.uk/v1/Accounts/{accountId}\\\",\\n            \\\"templated\\\": true\\n        },\\n        {\\n            \\\"name\\\": \\\"Transactions\\\",\\n            \\\"href\\\": \\\"https://blue-institution-sim.clearbank.co.uk/v1/Accounts/{accountId}/Transactions\\\",\\n            \\\"templated\\\": true\\n        },\\n        {\\n            \\\"name\\\": \\\"Mandates\\\",\\n            \\\"href\\\": \\\"https://blue-institution-sim.clearbank.co.uk/v1/Accounts/{accountId}/Mandates\\\",\\n            \\\"templated\\\": true\\n        }\\n    ]\\n}\\n\")), mdx(\"h2\", null, \"Use webhooks\"), mdx(\"h3\", null, \"What are webhooks?\"), mdx(\"p\", null, \"When certain events occur, we generate and send out a webhook message to your defined URL. You can subscribe to the webhooks you wish to recieve as described in \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#set-up-and-test-webhook-listener-urls\"\n  }, \"Set up and test webhook listener URLs\"), \". When you recieve a webhook, you will need to respond to it to confirm receipt.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"All ClearBank webhooks consist of a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Type\"), \",\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Version\"), \",\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Payload\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \". \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Payload\"), \" parameters vary depending on the webhook.\")), mdx(\"h4\", null, \"Webhook structure\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Element\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"DigitalSignature\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ClearBank's Digital Signature\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Type\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The type of the event\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Version\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The webhook version\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Nonce\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cryptographically secure number generated by ClearBank for every single webhook. A nonce number is generated randomly and should not be used as a check for duplication\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Payload\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"array\", \"[object]\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Object which contains information related to the webhook\")))), mdx(\"h4\", null, \"Response structure\"), mdx(\"p\", null, \"Webhook responses contain a 200 HTTP status code which includes a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \" number in the body and your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \".\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Element\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"DigitalSignature\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"string\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Signed hash of the body of the request. The hash is signed by your private key.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"Nonce\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The value that you receive in the webhook\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"200 \")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"int\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HTTP response status code\")))), mdx(\"h3\", null, \"Responding to a webhook\"), mdx(\"p\", null, \"The webhook sent by ClearBank acts as a verification mechanism.\\nYou verify that it is ClearBank that has sent you the webhook and subsequently, ClearBank needs to verify that you have successfully received the webhook (based on your response acknowledging receipt).\"), mdx(\"p\", null, \"This verification occurs when you return a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" HTTP response, which includes the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nonce\"), \" number in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"response body\"), \"  and your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DigitalSignature\"), \".\\nIf your response is invalid, then the webhook is considered to have failed. ClearBank will send the webhook every 15 minutes for 24 hours unless a successful, valid response is returned by you.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To\\xA0verify the\\xA0integrity of the webhook received from ClearBank\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Download a Public Key specific to your institution by clicking the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Download Public Key\"), \" button on the Webhook Management page of the Institution portal.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hash the request body using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SHA 256\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Convert the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DigitalSignature\"), \" Request Header value from \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Base64\"), \" encoded string into the byte array\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Verify the signature using the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RSA\"), \" algorithm\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"To create the webhook digital signature\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Take the Nonce number from the webhook and place it in the body of the response (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"{\\\"nonce\\\": <value>}\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hash the response body using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SHA 256\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Sign the hash with your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Private Key\"), \" and attach the signed hash as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Base64\"), \" encoded in the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DigitalSignature\"), \" Response Header\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your Private Key needs to correspond to a Public Key which has been used to create a Certificate Signing Request (CSR). Please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/#create-your-authentication-profile\"\n  }, \"Create your authentication profile\"), \" for more information.\")), mdx(\"p\", null, \"Example HTTP request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"POST http://yourdomain.com/sample/webhook HTTP/1.1\\nContent-Type: application/json\\nContent-Length: 72\\nDigitalsignature: YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY\\nX-Request-Id: f0309d95-4f68-4ecd-9c8d-b2d08d9fedd8\\n\\n{\\\"Type\\\":\\\"FITestEvent\\\",\\\"Version\\\":1,\\\"Payload\\\":\\\"test me\\\",\\\"Nonce\\\":1448545215}\\n\")), mdx(\"p\", null, \"Example HTTP response:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"HTTP/1.1 200 OK\\nDigitalsignature: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\\nContent-Type: application/json\\n\\n{\\n    \\\"Nonce\\\": 1448545215\\n}\\n\")), mdx(\"h3\", null, \"Set up and test webhook listener URLs\"), mdx(\"p\", null, \"You can create one webhook listener for\\xA0all\\xA0events or separate webhook listeners\\xA0specific\\xA0to an event.\\nIn this example, you will setup an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent\"), \" webhook URL, which you can test against the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#post-test-endpoint\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"TEST POST\"), \" endpoint\"), \".\"), mdx(\"p\", null, \"To manage your\\xA0webhook definitions and set your\\xA0webhook\\xA0listener URLs for each event:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Log in to the ClearBank Portal. More information about accessing the portal can be found \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#get-connected\"\n  }, \"here\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"From the menu, select\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Institution\"), \"\\xA0>\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Webhook Management\"), \".\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"/assets/images/webhook-management-page.png\",\n    \"alt\": \"alt text\",\n    \"title\": \"Webhook management page\"\n  })), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Search for \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Test webhook\"), \" and click the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Edit\\xA0button\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enter the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"URL\"), \" you want to define as your webhook listener for this webhook and set the webhook status to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Enabled\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Select\\xA0\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Save\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To test the webhook, select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Test button\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enter a test message in the Test webhook window for example, \\u2018Hello World\\u2019 and select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Send\"), \".\")), mdx(\"p\", null, \"You should receive a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FITestEvent webhook\"), \" to your nominated URL containing the test message in the body.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"You must not include any sensitive information (such as API keys) in your webhook URLs.\")), mdx(\"p\", null, \"The range of public IP addresses to support your interaction with ClearBank webhooks is:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Simulation Public IP address range: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"51.145.122.16/28\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Production Public IP address range: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"51.145.122.32/28\"))));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"title":"Getting started","slug":"/docs/api/getting-started","order":2,"id":"6d9df810-91de-537b-a9d3-bc867c37d994"}},"next":null,"previous":null}]}},"pageContext":{"id":"6d9df810-91de-537b-a9d3-bc867c37d994","slug":"/docs/api/getting-started","menuItems":[{"subMenuItems":[{"node":{"fields":{"id":"c46d98c7-e499-5e19-883c-0a68b5716557","order":1,"slug":"/docs/api/overview","title":"Overview"}}},{"node":{"fields":{"id":"6d9df810-91de-537b-a9d3-bc867c37d994","order":2,"slug":"/docs/api/getting-started","title":"Getting started"}}},{"node":{"fields":{"id":"0518b43e-3b23-5027-af62-69ffc5bdbebc","order":3,"slug":"/docs/api/versioning","title":"Versioning"}}},{"node":{"fields":{"id":"b7679c43-6710-588a-b4af-866a2e3d1615","order":4,"slug":"/docs/api/support-life-cycle","title":"Support life cycle"}}}],"menuItem":{"id":"8968f4c3-cd7f-5ffe-a6e0-05059df477d7","order":1,"slug":"/docs/api","title":"API"}},{"subMenuItems":[{"node":{"fields":{"id":"a37956d6-8a50-5629-b7c9-876cd2a3b682","order":1,"slug":"/docs/gbp-accounts/account-types","title":"Account types"}}},{"node":{"fields":{"id":"862f2ab9-470a-5662-8694-426d1ee14d57","order":2,"slug":"/docs/gbp-accounts/manage-accounts","title":"Manage sterling accounts"}}},{"node":{"fields":{"id":"bc2708c1-e6f1-5718-998c-e8fb16648569","order":3,"slug":"/docs/gbp-accounts/payment-data","title":"Payment data"}}},{"node":{"fields":{"id":"6f8c223b-1718-5a83-a21a-1c75bf132869","order":4,"slug":"/docs/gbp-accounts/bacs-payment-data","title":"Bacs payment data"}}}],"menuItem":{"id":"9fbe3119-175a-5faa-a394-684eb60aac1f","order":2,"slug":"/docs/gbp-accounts","title":"GBP Accounts"}},{"subMenuItems":[{"node":{"fields":{"id":"fea8951b-8152-5b18-86b4-e6e1bf964bcf","order":1,"slug":"/docs/uk-payments/faster-payments","title":"Faster payments"}}},{"node":{"fields":{"id":"4e306685-3118-5f36-9676-f98e39bcf9c0","order":3,"slug":"/docs/uk-payments/bacs","title":"Bacs"}}},{"node":{"fields":{"id":"b0a43b66-a535-579d-8567-137435b91503","order":4,"slug":"/docs/uk-payments/bacs-direct-debit-instructions","title":"Bacs Direct Debit Instructions"}}},{"node":{"fields":{"id":"bf246ec7-fd5a-50fb-a3de-3aa5069beaa4","order":5,"slug":"/docs/uk-payments/chaps","title":"CHAPS"}}},{"node":{"fields":{"id":"e211ef57-0922-5841-a3a9-7957509870e4","order":6,"slug":"/docs/uk-payments/confirmation-of-payee","title":"Confirmation Of Payee (CoP)"}}}],"menuItem":{"id":"2fb613b1-59b2-5183-b963-7e30e1281c7c","order":3,"slug":"/docs/uk-payments","title":"UK Payments"}},{"subMenuItems":[{"node":{"fields":{"id":"32fc16d8-26a8-5c32-97b8-2d6bc0e7fbfb","order":1,"slug":"/docs/multi-currency/multi-currency-account-types","title":"Multi-currency account types"}}},{"node":{"fields":{"id":"9d5ca7b4-dda8-588a-8de1-2dceec467006","order":2,"slug":"/docs/multi-currency/manage-multi-currency-accounts","title":"Manage multi-currency accounts"}}},{"node":{"fields":{"id":"76acab29-5a29-5644-b94a-7079c44f5e6e","order":3,"slug":"/docs/multi-currency/account-reporting","title":"Account reporting"}}},{"node":{"fields":{"id":"05f489ad-c86f-5f02-8e47-32fff5fd40b5","order":4,"slug":"/docs/multi-currency/multi-currency-payments","title":"Multi-currency payments"}}},{"node":{"fields":{"id":"c9cd01f0-8ec8-57e7-a1f4-0b3e7dc0b868","order":5,"slug":"/docs/multi-currency/fx-trade","title":"FX trade"}}}],"menuItem":{"id":"bcc047a0-963b-5574-a528-c41fcf062a38","order":4,"slug":"/docs/multi-currency","title":"Multi-currency/FX"}},{"subMenuItems":[{"node":{"fields":{"id":"0746ffb6-d15b-5529-b484-a94edf6c82b1","order":1,"slug":"/docs/embedded-banking/fscs-protected-deposits","title":"FSCS protected deposits"}}}],"menuItem":{"id":"44935dab-1775-5f91-bf68-99829b92e21b","order":5,"slug":"/docs/embedded-banking","title":"Embedded Banking"}}],"regexFilter":"/docs/api/getting-started"}},"staticQueryHashes":["501539297"]}